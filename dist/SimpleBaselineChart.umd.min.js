(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["SimpleBaselineChart"]=t(require("vue")):e["SimpleBaselineChart"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(){"use strict";var t={82:function(e,t){t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n}},203:function(t){t.exports=e}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}!function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p=""}();var r={};return function(){if(o.r(r),o.d(r,{default:function(){return h}}),"undefined"!==typeof window){var e=window.document.currentScript,t=e&&e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);t&&(o.p=t[1])}var n=o(203);const i={ref:"simpleBaselineChart",id:"simple_baseline_chart"},a=["src"];function l(e,t,o,r,l,u){return(0,n.openBlock)(),(0,n.createElementBlock)("div",i,[r.image?((0,n.openBlock)(),(0,n.createElementBlock)("img",{key:0,src:r.image},null,8,a)):(0,n.createCommentVNode)("",!0)],512)}var u={name:"SimpleBaselineChart",props:{series:{type:Array,default:()=>[]},baseValue:{type:Number,default:0}},setup(e){const t=(0,n.computed)((()=>{const t=e.series;return t.sort(((e,t)=>e.timestamp-t.timestamp))})),o=(0,n.ref)(null),r=(0,n.ref)([]),i=(0,n.ref)(0),a=(0,n.ref)(),l=()=>{if(0==t.value.length)return;let n=document.createElement("canvas"),r=o.value;n.width=2*r.offsetWidth,n.height=2*r.offsetHeight;let l=n.getContext("2d");l.lineWidth=1;let s=e.baseValue,d=t.value.map((e=>e.value)),c=1,p=d.length,f=c/p;i.value=n.width/(p-1)-f;let h=n.height-c,m=Math.max.apply(Math,d),g=Math.min.apply(Math,d),v=(s-g)/(m-g),y=(h-c)*v;y<0&&(y=0);let b=document.createElement("canvas");b.width=n.width,b.height=n.height;let w=b.getContext("2d");u(l,t.value,m,g,h,c,i.value,y,n,"down"),w.drawImage(n,0,0),l.clearRect(0,0,n.width,n.height),l.beginPath(),n.height=y>h?1:h-y,n.height<=0&&(n.height=1),u(l,t.value,m,g,h,c,i.value,y,n,"up",!0),w.drawImage(n,0,0),e.dashes&&y>0&&y<=h&&(w.moveTo(0,n.height),w.lineTo(n.width,n.height),w.setLineDash([5,3]),w.strokeStyle="rgba(255,255,255,0.35)",w.stroke(),w.setLineDash([0,0]));const S=b.toDataURL("image/png");a.value=S},u=(t,n,o,i,a,l,u,s,d,c,p)=>{t.beginPath();let f=0,h="green";"down"==c&&(h="red"),n.forEach(((n,s)=>{let d=(n.value-i)/(o-i),c=(a-l)*d,f=0,h=a-c;f=0==s?l:u*s,t.lineTo(f,h),s>0&&p&&e.interactive&&r.value.push({x:f/2,y:h/2,value:n})})),t.strokeStyle=h,t.stroke();let m=null;if("up"==c){m=t.createLinearGradient(0,0,0,a);let e=(a-s)/a;e>1?e=1:e<0&&(e=0),m.addColorStop(0,"rgba(50, 168, 82, 0.5)"),m.addColorStop(e,"rgba(50, 168, 82, 0)"),t.lineTo(u*(n.length-1),a-s),t.lineTo(u*(f-n.length),a-s)}else{let e=s/a;e>1?e=1:e<0&&(e=0),m=t.createLinearGradient(0,a,0,0),m.addColorStop(0,"rgba(168, 50, 50, 0.5)"),m.addColorStop(e,"rgba(168, 50, 50, 0"),t.lineTo(d.width-l,u),t.lineTo(l,u)}"down"==c&&(t.fillStyle="transparent",t.fillRect(0,0,d.width,a-s)),m&&(t.fillStyle=m),t.globalCompositeOperation="destination-over",t.fill(),t.globalCompositeOperation="source-over"};return(0,n.onMounted)((()=>{l()})),{simpleBaselineChart:o,image:a}}},s=o(82);const d=(0,s.Z)(u,[["render",l],["__scopeId","data-v-042d0341"]]);var c=d;const p={install(e){e.component("SimpleBaselineChart",c)}};"undefined"!==typeof window&&window.Vue&&window.Vue.use(p);var f=p,h=f}(),r}()}));
//# sourceMappingURL=SimpleBaselineChart.umd.min.js.map